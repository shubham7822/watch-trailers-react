{"version":3,"sources":["actiontypes.js","actions.js","firebase.js","Movie.js","Search.js","Navbar.js","Login.js","App.js","reducer.js","Store.js","index.js"],"names":["FETCH_MOVIES","getmovies","input","dispatch","axios","get","process","then","response","movies","data","type","payload","fetchMovies","catch","error","console","log","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","provider","GoogleAuthProvider","Movie","Image","title","movieclick","useState","trailerUrl","setTrailerUrl","user","currentUser","className","onClick","movieTrailer","url","urlParams","URLSearchParams","URL","search","src","videoId","opts","height","width","playerVars","autoplay","to","connect","state","props","setInput","useEffect","onChange","e","target","value","placeholder","results","map","item","poster_path","Navbar","setUser","onAuthStateChanged","authUser","displayName","signOut","Login","history","useHistory","signInWithPopup","result","push","alert","message","App","path","initialState","loading","store","createStore","action","compose","applyMiddleware","thunk","window","devToolsExtension","f","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.136c60f5.chunk.js","sourcesContent":["export const FETCH_MOVIES = \"FETCH_MOVIES\";\r\n","import { FETCH_MOVIES } from \"./actiontypes\";\r\n\r\nimport axios from \"axios\";\r\nexport const fetchMovies = (movies) => {\r\n  return {\r\n    type: FETCH_MOVIES,\r\n    payload: movies,\r\n  };\r\n};\r\n\r\nconst APIKEY = process.env.REACT_APP_SECRET_KEY;\r\n\r\nexport const getmovies = (input) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .get(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${APIKEY}&language=en-US&query=${input}&page=1&include_adult=false`\r\n      )\r\n      .then((response) => {\r\n        const movies = response.data;\r\n        dispatch(fetchMovies(movies));\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error fetching data\");\r\n      });\r\n  };\r\n};\r\n","import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCIOqf6Nr7N1TuQFGa1FUpUJnVpAJLSDrU\",\r\n  authDomain: \"trailers-954a6.firebaseapp.com\",\r\n  databaseURL: \"https://trailers-954a6.firebaseio.com\",\r\n  projectId: \"trailers-954a6\",\r\n  storageBucket: \"trailers-954a6.appspot.com\",\r\n  messagingSenderId: \"381216901492\",\r\n  appId: \"1:381216901492:web:36eadb96a99fed7d49c421\",\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { auth, provider };\r\nexport default db;\r\n","import React, { useState } from \"react\";\r\nimport \"./Movie.css\";\r\nimport YouTube from \"react-youtube\";\r\nimport movieTrailer from \"movie-trailer\";\r\nimport { auth } from \"./firebase\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Movie({ Image, title, movieclick }) {\r\n  const [trailerUrl, setTrailerUrl] = useState(\"\");\r\n\r\n  const user = auth.currentUser;\r\n\r\n  const handleVideo = () => {\r\n    if (trailerUrl) {\r\n      setTrailerUrl(\"\");\r\n    } else {\r\n      movieTrailer(movieclick?.title)\r\n        .then((url) => {\r\n          const urlParams = new URLSearchParams(new URL(url).search);\r\n          setTrailerUrl(urlParams.get(\"v\"));\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  };\r\n\r\n  const opts = {\r\n    height: \"100%\",\r\n    width: \"300\",\r\n    playerVars: {\r\n      // https://developers.google.com/youtube/player_parameters\r\n      autoplay: 1,\r\n    },\r\n  };\r\n  return (\r\n    <div className='movie'>\r\n      <img onClick={handleVideo} className='movie_image' src={Image} />\r\n      <h3 className='movie_title'>{title}</h3>\r\n      <div>\r\n        {user ? (\r\n          trailerUrl && <YouTube videoId={trailerUrl} opts={opts} />\r\n        ) : (\r\n          <Link className='movie_redirect_to_login' to='/login'>\r\n            <button className='movie_loginbtn'>login to watch</button>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getmovies } from \"./actions\";\r\nimport \"./Search.css\";\r\nimport Movie from \"./Movie\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nfunction Search(props) {\r\n  const [input, setInput] = useState();\r\n  let baseURL = \"https://image.tmdb.org/t/p/original\";\r\n\r\n  useEffect(() => {\r\n    getmovies();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='search'>\r\n      <div className='search_header'>\r\n        <input\r\n          className='search_input'\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder='Watch Trailers'\r\n          type='text'\r\n        />\r\n        <SearchIcon\r\n          className='search_button'\r\n          onClick={() => props.getmovies(input)}\r\n        />\r\n      </div>\r\n\r\n      <div className='search_movie_posters'>\r\n        {props.movies.results?.map((item) => (\r\n          <Movie\r\n            movieclick={item}\r\n            title={item.title}\r\n            Image={`${baseURL}${item.poster_path}`}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    movies: state.movies,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getmovies: (input) => dispatch(getmovies(input)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import { auth } from \"./firebase\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\n\r\nfunction Navbar() {\r\n  const [user, setUser] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        setUser(authUser);\r\n      } else {\r\n        setUser(\"\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    auth.signOut();\r\n  };\r\n  return (\r\n    <div className='navbar'>\r\n      <img\r\n        className='navbar_logo'\r\n        src='https://www.freelogoservices.com/api/main/images/1j+ojFVDOMkX9Wytexe43D6kifCGpR9OmR3NwXs1M3EMoAJtliAugPNi8vg+'\r\n      />\r\n\r\n      <div className='navbar_links'>\r\n        <div className='navbar_linkone'>\r\n          <span className='navbar_username'>hello,{user.displayName}</span>\r\n          <Link className='navbar_link' to='/login'>\r\n            <p onClick={handleLogout}>\r\n              {user ? (\r\n                <p className='navbar_cursor'>LogOut</p>\r\n              ) : (\r\n                <p className='navbar_cursor'>Login </p>\r\n              )}\r\n            </p>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport { auth, provider } from \"./firebase\";\r\n\r\nfunction Login() {\r\n  const history = useHistory(\"\");\r\n\r\n  const handellogin = () => {\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n  return (\r\n    <div className='login'>\r\n      <img\r\n        className='login_logo'\r\n        src='https://www.freelogoservices.com/api/main/images/1j+ojFVDOMkX9Wytexe43D6kifCGpR9OmR3NwXs1M3EMoAJtliAugPNi8vg+'\r\n      />\r\n      <h2>Watch Trailers Here</h2>\r\n      <button onClick={handellogin} className='login_button'>\r\n        sign in with google\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport Search from \"./Search\";\nimport Navbar from \"./Navbar\";\nimport Login from \"./Login\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className='App'>\n        <Switch>\n          <Route path='/login'>\n            <Login />\n          </Route>\n          <Route path='/'>\n            <Navbar />\n            <Search />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { FETCH_MOVIES } from \"./actiontypes\";\r\n\r\nconst initialState = {\r\n  movies: [],\r\n  error: \"\",\r\n  loading: true,\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_MOVIES:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        movies: action.payload,\r\n        error: \"\",\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer } from \"./reducer\";\r\n\r\nexport const store = createStore(\r\n  reducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.devToolsExtension ? window.devToolsExtension() : (f) => f\r\n  )\r\n);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./Store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}